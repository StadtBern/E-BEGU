<div class="kommentarView">
    <form role="form" name="vm.form" class="" novalidate layout="column">
        <!--bemerkungen intern-->
        <div class="kommentarTop">
            <dv-input-container class="form-group kommentar-feld">
                <label class="md-no-float" for="kommentarIntern" data-translate="BEMERKUNGEN_INTERN"></label>
                <textarea md-no-autogrow class="form-control" rows="4" id="kommentarIntern"
                          ng-blur="vm.saveStepBemerkung()"
                          ng-model="vm.getCurrentWizardStep().bemerkungen" maxlength="1000">
                        </textarea>
            </dv-input-container>
        </div>

        <div ng-if="vm.getGesuchsteller1()">
            <!-- Gesuchsteller 1 -->
            <label class="md-no-float" ng-bind="vm.getGesuchstellerTitle(vm.getGesuchsteller1())"></label>
            <!-- Suche starten -->
            <dv-loading-button type="submit" button-click="vm.searchGesuchsteller1()"
                               class="kommentar-button" aria-label="{{'EWK_ABFRAGE_STARTEN' | translate}}">
                <span data-translate="EWK_ABFRAGE_STARTEN"></span>
            </dv-loading-button>
            <!-- Anzahl Resultate -->
            <label ng-if="vm.gesuchModelManager.ewkResultatGS1"
                    data-translate="EWK_ANZAHL_ERGEBNISSE"
                    data-translate-value-resultate="{{vm.gesuchModelManager.ewkResultatGS1.anzahlResultate}}"></label>
            <!-- Resultat-Liste -->
            <md-radio-group ng-model="vm.gesuchModelManager.ewkPersonGS1">
            <div class="md-no-float" ng-repeat="person in vm.gesuchModelManager.ewkResultatGS1.personen">
                <label ng-bind="person.getShortDescription()" ng-click="vm.showDetail(person)"></label>
                <md-radio-button ng-value="person"  ng-click="vm.selectPersonGS1(person)"
                                 aria-label="person.getShortDescription()"></md-radio-button>
            </div>
            </md-radio-group>
        </div>

        <div ng-if="vm.getGesuchsteller2()">
            <!-- Gesuchsteller 2 -->
            <label class="md-no-float" ng-bind="vm.getGesuchstellerTitle(vm.getGesuchsteller2())"></label>
            <!-- Suche starten -->
            <dv-loading-button type="submit" button-click="vm.searchGesuchsteller2()"
                               class="kommentar-button" aria-label="{{'EWK_ABFRAGE_STARTEN' | translate}}">
                <span data-translate="EWK_ABFRAGE_STARTEN"></span>
            </dv-loading-button>
            <!-- Anzahl Resultate -->
            <label ng-if="vm.gesuchModelManager.ewkResultatGS2"
                   data-translate="EWK_ANZAHL_ERGEBNISSE"
                   data-translate-value-resultate="{{vm.gesuchModelManager.ewkResultatGS2.anzahlResultate}}"></label>
            <!-- Resultat-Liste -->
            <md-radio-group ng-model="vm.gesuchModelManager.ewkPersonGS2">
                <div class="md-no-float" ng-repeat="person in vm.gesuchModelManager.ewkResultatGS2.personen">
                    <label ng-bind="person.getShortDescription()" ng-click="vm.showDetail(person)"></label>
                    <md-radio-button ng-value="person"  ng-click="vm.selectPersonGS2(person)"
                                     aria-label="person.getShortDescription()"></md-radio-button>
                </div>
            </md-radio-group>
        </div>


        <span flex=""></span>
        <!--bemerkungen VerfÃ¼gung-->
        <div class="kommentarBottom">
            <dv-input-container class="form-group kommentar-feld">
                <label class="md-no-float" for="kommentarVerfuegung"
                       data-translate="BEMERKUNGEN_VERFUEGUNG"></label>
                <textarea md-no-autogrow class="form-control" rows="4" id="kommentarVerfuegung"
                          ng-blur="vm.saveBemerkungZurVerfuegung()"
                          ng-disabled="vm.isGesuchReadonly()"
                          ng-model="vm.getGesuch().bemerkungen" maxlength="1000">
                        </textarea>
            </dv-input-container>
        </div>

        <div class="kommentarButton" ng-if="!vm.isGesuchUnsaved()">
            <div ng-if="vm.hasPapiergesuch()" ng-click="vm.download()" class="dv-btn kommentar-button">
                <span data-translate="PAPIERGESUCH_OEFFNEN"></span>
            </div>

            <div ng-if="!vm.hasPapiergesuch() && !vm.isGesuchReadonly()"
                 ngf-select="vm.upload($files)" ngf-multiple="false"
                 ngf-drop="vm.upload($files)"
                 ngf-drag-over-class="'dragover'"
                 class="dv-btn kommentar-button">
                <span data-translate="PAPIERGESUCH_LADEN"></span>
            </div>
        </div>
    </form>
</div>
