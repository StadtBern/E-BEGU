<div class="fallCreationView row">
    <div class="row">
        <div class="col-md-12">
            <h4 class="mainTitle">
                <span ng-bind="vm.getTitle()"></span>
            </h4>
        </div>
    </div>
    <hr class="header"/>
    <form role="form" name="form" class="" novalidate unsaved-warning-form>
        <fieldset ng-disabled="vm.isGesuchStatusVerfuegenVerfuegt()">

            <!--Eingangsdatum-->
            <div class="row">
                <div class="col-md-6">
                    <dv-input-container class="form-group">
                        <label data-translate="EINGANGSDATUM" for="eingangsdatum_ID">
                        </label>
                        <dv-datepicker input-id="eingangsdatum_ID" name="eingangsdatum"
                                       ng-model="vm.getGesuchModel().eingangsdatum" ng-required="true"
                                       class="input-element">
                        </dv-datepicker>
                        <dv-error-messages for="form.eingangsdatum.$error"
                                           class="error"></dv-error-messages>
                    </dv-input-container>
                </div>
            </div>

            <!--Gesuchsperioden. Nur fuer Erstgesuch-->

            <div ng-if="vm.gesuchModelManager.isErstgesuch()">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="dv-radio-container">
                                <md-radio-group name="gesuchsperioden" class="input-element radio"
                                                ng-model="vm.gesuchsperiodeId" ng-change="vm.setSelectedGesuchsperiode()"
                                                ng-required="true">
                                    <md-radio-button
                                        ng-repeat="current in vm.getAllActiveGesuchsperioden() | orderBy: 'gueltigkeit.gueltigAb'"
                                        ng-value="current.id" aria-label="{{current.gesuchsperiodeString}}"
                                        ng-disabled="vm.isGesuchStatusVerfuegenVerfuegt()">
                                        <span>{{current.gesuchsperiodeString}}</span>
                                    </md-radio-button>
                                </md-radio-group>
                                <dv-error-messages for="form.gesuchsperioden.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--Mutationelemente auswaehlen. Nur fuer Mutationen-->
            <div ng-if="!vm.gesuchModelManager.isErstgesuch()">

                <p class="inlineHint" data-translate="MUTATION_AUSWAHL_TEXT"></p>

                <!--Familiensituation checkbox-->
                <div class="row marginTop20">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationFamiliensituation" name="mutationFamiliensituation"
                                             aria-label="mutationFamiliensituation" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_FAMSITUATION"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationFamiliensituation.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Stammdaten Gesuchsteller checkbox-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationGesuchsteller" name="mutationGesuchsteller"
                                             aria-label="mutationGesuchsteller" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_GESUCHSTELLER"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationGesuchsteller.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Umzug checkbox-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationUmzug" name="mutationUmzug"
                                             aria-label="mutationUmzug" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_UMZUG"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationUmzug.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Kind checkbox-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationKind" name="mutationKind"
                                             aria-label="mutationKind" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_KIND"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationKind.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Betreuungen checkbox-->
                <div class="row marginTop20">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationBetreuung" name="mutationBetreuung"
                                             aria-label="mutationBetreuung" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_BETREUUNGEN"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationBetreuung.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Abwesenheit checkbox-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationAbwesenheit" name="mutationAbwesenheit"
                                             aria-label="mutationAbwesenheit" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_ABWESENHEIT"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationAbwesenheit.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Erwerbspensum checkbox-->
                <div class="row marginTop20">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationErwerbspensum" name="mutationErwerbspensum"
                                             aria-label="mutationErwerbspensum" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_ERWERBSPENSUM"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationErwerbspensum.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Finanz Situation checkbox-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationFinanzielleSituation" name="mutationFinanzielleSituation"
                                             aria-label="mutationFinanzielleSituation" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_FINANZIELLESITUATION"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationFinanzielleSituation.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Einkommensverschlechterung checkbox-->
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="checkbox">
                                <md-checkbox ng-model="vm.getMutationsdaten().mutationEinkommensverschlechterung" name="mutationEinkommensverschlechterung"
                                             aria-label="mutationEinkommensverschlechterung" dv-enable-element
                                             dv-enable-allowed-roles="vm.TSRoleUtil.getAllRolesButTraegerschaftInstitution()"
                                             dv-enable-expression="!vm.isGesuchStatusVerfuegenVerfuegt()">
                                    <span data-translate="MUTATION_AUSWAHL_EINKOMMENSVERSCHLECHTERUNG"></span>
                                </md-checkbox>
                                <dv-error-messages for="form.mutationEinkommensverschlechterung.$error"
                                                   class="error"></dv-error-messages>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>

        <!--Buttons-->
        <dv-navigation dv-next="true" dv-save="vm.save(form)">
        </dv-navigation>
    </form>

</div>
