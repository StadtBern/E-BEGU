<div class="fallCreationView gesuchModul">
    <div class="row viewTitle">
        <div class="col-md-12">
            <h1>
                <span ng-bind="vm.getTitle()"></span>
            </h1>
            <hr class="header"/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form role="form" name="vm.form" class="" novalidate unsaved-warning-form>
                <fieldset ng-disabled="vm.isGesuchReadonly()">

                    <!--Willkommnstext bei Erstgesuch-->
                    <div ng-if="vm.gesuchModelManager.isErstgesuch()">

                        <h1 data-translate="ERSTGESUCH_WILLKOMMEN_TEXT"></h1>
                        <p data-translate="ERSTGESUCH_WILLKOMMEN_TEXT_2"></p>
                        <p data-translate="ERSTGESUCH_WILLKOMMEN_TEXT_3"></p>

                    </div>

                    <!--Mutationelemente auswaehlen. Nur fuer Mutationen-->
                    <div ng-if="!vm.gesuchModelManager.isErstgesuch()">

                        <p class="subTitle subTitleBold" data-translate="MUTATION_AUSWAHL_TEXT_1"></p>
                        <p class="subTitle" data-translate="MUTATION_AUSWAHL_TEXT_2"></p>
                        <p class="subTitle" data-translate="MUTATION_AUSWAHL_TEXT_3"></p>

                    </div>

                    <!--Eingangsdatum-->
                    <div class="row marginTop30" dv-show-element
                         dv-show-allowed-roles="vm.TSRoleUtil.getAllRolesButGesuchsteller()">
                        <div class="col-sm-12 dv-input-container-small">
                            <dv-input-container class="form-group">
                                <label class="md-no-float" data-translate="EINGANGSDATUM" for="eingangsdatum_ID">
                                </label>
                                <dv-datepicker input-id="eingangsdatum_ID" name="eingangsdatum"
                                               ng-model="vm.getGesuchModel().eingangsdatum" ng-required="true"
                                               class="input-element">
                                </dv-datepicker>
                                <dv-error-messages for="vm.form.eingangsdatum.$error"
                                                   class="error"></dv-error-messages>
                            </dv-input-container>
                        </div>
                    </div>

                    <!--Gesuchsperioden. Nur fuer Erstgesuch-->

                    <div ng-if="vm.gesuchModelManager.isErstgesuch()">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="dv-radio-container">
                                        <md-radio-group name="gesuchsperioden" class="input-element radio"
                                                        ng-model="vm.gesuchsperiodeId"
                                                        ng-change="vm.setSelectedGesuchsperiode()"
                                                        dv-show-element
                                                        dv-show-allowed-roles="vm.TSRoleUtil.getAllRolesButGesuchsteller()"
                                                        ng-required="true">
                                            <md-radio-button
                                                ng-repeat="current in vm.getAllActiveGesuchsperioden() | orderBy: 'gueltigkeit.gueltigAb'"
                                                ng-value="current.id" aria-label="{{current.gesuchsperiodeString}}"
                                                ng-disabled="vm.isGesuchReadonly()  || vm.isKorrekturModusJugendamt()">
                                                <span>{{current.gesuchsperiodeString}}</span>
                                            </md-radio-button>
                                        </md-radio-group>
                                        <dv-error-messages for="vm.form.gesuchsperioden.$error"></dv-error-messages>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </fieldset>

                <!--Buttons-->
                <dv-navigation dv-next="true" dv-translate-next="{{vm.getNextButtonText()}}" dv-save="vm.save()">
                </dv-navigation>

            </form>
        </div>
    </div>
</div>
