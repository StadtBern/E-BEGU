<div class="traegerschaftView adminModul">
    <div class="col-md-8 col-md-offset-2">
        <div class="viewTitle">
            <h1 data-translate="TRAEGERSCHAFT"></h1>
        </div>
        <form role="form" name="form" class="" unsaved-warning-form novalidate>
            <fieldset ng-disabled="vm.isReadonly()">

                <div class="row">
                    <!--Tabelle zum anzeigen aller Traegerschaften-->
                    <div class="col-md-12 table-responsive">
                        <table st-table="displayedCollection" st-safe-src="vm.getTraegerschaftenList()"
                               class="table" st-delay="20">
                            <thead>
                            <tr>
                                <th st-sort="name" class="sortable" data-translate="TRAEGERSCHAFT" width="95%"></th>
                                <th width="5%"></th>
                                <th width="5%"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="row in displayedCollection" st-select-row="row" st-select-mode="single"
                                    ng-click="vm.setSelectedTraegerschaft(row)">
                                <td ng-bind="row.name"></td>
                                <td></td>
                                <td>
                                    <dv-loading-button type="button" button-click="vm.removeTraegerschaft(row)" button-class=" btn-sm"
                                                       button-disabled="vm.isReadonly()">
                                        <i class="fa fa-minus"> </i>
                                    </dv-loading-button>
                                </td>
                            </tr>
                            <tr ng-if="!vm.traegerschaften.length && !vm.traegerschaft">
                                <td colspan="4" class="empty-table" data-translate="TRAEGERSCHAFTEN_NOCH_KEINE"></td>
                            </tr>
                            </tbody>
                        </table>

                        <div ng-if="vm.traegerschaft">
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="md-no-float" data-translate="NAME" for="name_ID"></label>
                                        </div>
                                        <div class="col-md-8">
                                            <input id="name_ID" type="text" name="name"
                                                   ng-model="vm.traegerschaft.name"
                                                   dv-max-length class="form-control" required>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8 col-md-offset-4">
                                            <dv-error-messages for="form.name_ID.$error"></dv-error-messages>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <label class="md-no-float" data-translate="EMAIL" for="mail_ID"></label>
                                        </div>
                                        <div class="col-md-8">
                                            <input id="mail_ID" type="text" name="name"
                                                   ng-model="vm.traegerschaft.mail"
                                                   dv-max-length class="form-control" required>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8 col-md-offset-4">
                                            <dv-error-messages for="form.mail_ID.$error" class="error"></dv-error-messages>
                                        </div>
                                    </div>

                                    <!-- Buttons -->
                                    <div class="row">
                                        <div class="col-md-4">
                                            <dv-loading-button type="submit"
                                                               button-click="vm.saveTraegerschaft(form)"
                                                               button-class="color-success" button-disabled="vm.isReadonly()">
                                                <span data-translate="SAVE"></span>
                                            </dv-loading-button>
                                        </div>
                                        <div class="col-md-4">
                                            <a href="javascript:;" id="cancelLink" class="dv-btn" unsaved-warning-clear
                                               ng-click="vm.cancelTraegerschaft(); form.$setPristine();form.$setUntouched();">
                                                <span data-translate="CANCEL"></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-if="!vm.traegerschaft && !vm.isReadonly()">
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <!--Knopf unterhalb der Tabelle zum hinzufÃ¼gen einer neuen Traegerschaft-->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <dv-input-container class="form-group">
                                                <dv-loading-button type="button"
                                                                   button-click="vm.createTraegerschaft(); form.$setPristine(); form.$setUntouched()"
                                                                   button-class="dv-btn-sm color-success" button-disabled="vm.traegerschaft">
                                                    <i class="glyphicon glyphicon-plus"></i>
                                                    <span data-translate="TRAEGERSCHAFT_HINZUFUEGEN"></span>
                                                </dv-loading-button>
                                            </dv-input-container>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <br/>
                                            <!--Knopf zum synchen traegerschaften -->
                                            <dv-loading-button type="submit"
                                                               button-click="vm.syncWithOpenIdm()"
                                                               button-class="">
                                                <span data-translate="TRAEGERSCHAFTEN_SYNCHRONIZE"></span>
                                            </dv-loading-button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>

</fieldset>
</form>
</div>
</div>
