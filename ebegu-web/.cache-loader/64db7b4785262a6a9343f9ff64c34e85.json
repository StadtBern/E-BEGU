{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/admin/component/adminView/adminView.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/admin/component/adminView/adminView.ts","mtime":1512484411991},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["\"use strict\";\n/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TSApplicationProperty_1 = require(\"../../../models/TSApplicationProperty\");\nvar abstractAdminView_1 = require(\"../../abstractAdminView\");\nrequire('./adminView.less');\nvar template = require('./adminView.html');\nvar okDialogTempl = require('../../../gesuch/dialog/okDialogTemplate.html');\nvar linkDialogTempl = require('../../../gesuch/dialog/linkDialogTemplate.html');\nvar AdminViewComponentConfig = /** @class */ (function () {\n    function AdminViewComponentConfig() {\n        this.transclude = false;\n        this.bindings = {\n            applicationProperties: '<'\n        };\n        this.template = template;\n        this.controller = AdminViewController;\n        this.controllerAs = 'vm';\n    }\n    return AdminViewComponentConfig;\n}());\nexports.AdminViewComponentConfig = AdminViewComponentConfig;\nvar AdminViewController = /** @class */ (function (_super) {\n    __extends(AdminViewController, _super);\n    /* @ngInject */\n    function AdminViewController(applicationPropertyRS, MAX_LENGTH, ebeguRestUtil, reindexRS, authServiceRS) {\n        var _this = _super.call(this, authServiceRS) || this;\n        _this.reindexRS = reindexRS;\n        _this.length = MAX_LENGTH;\n        _this.applicationProperty = undefined;\n        _this.applicationPropertyRS = applicationPropertyRS;\n        _this.ebeguRestUtil = ebeguRestUtil;\n        return _this;\n    }\n    AdminViewController.prototype.submit = function () {\n        //testen ob aktuelles property schon gespeichert ist\n        if (this.applicationProperty.isNew()) {\n            this.applicationPropertyRS.update(this.applicationProperty.name, this.applicationProperty.value);\n        }\n        else {\n            this.applicationPropertyRS.create(this.applicationProperty.name, this.applicationProperty.value);\n        }\n        this.applicationProperty = undefined;\n    };\n    AdminViewController.prototype.createItem = function () {\n        this.applicationProperty = new TSApplicationProperty_1.default('', '');\n    };\n    AdminViewController.prototype.editRow = function (row) {\n        this.applicationProperty = row;\n    };\n    AdminViewController.prototype.resetForm = function () {\n        var _this = this;\n        this.applicationProperty = undefined;\n        this.applicationPropertyRS.getAllApplicationProperties().then(function (response) {\n            _this.applicationProperties = response;\n        });\n    };\n    AdminViewController.prototype.getIndexOfElementwithID = function (prop) {\n        var idToSearch = prop.id;\n        for (var i = 0; i < this.applicationProperties.length; i++) {\n            if (this.applicationProperties[i].id === idToSearch) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    AdminViewController.prototype.startReindex = function () {\n        return this.reindexRS.reindex();\n    };\n    AdminViewController.$inject = ['ApplicationPropertyRS', 'MAX_LENGTH', 'EbeguRestUtil', 'ReindexRS', 'AuthServiceRS'];\n    return AdminViewController;\n}(abstractAdminView_1.default));\nexports.AdminViewController = AdminViewController;\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/admin/component/adminView/adminView.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/admin/component/adminView/adminView.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport TSApplicationProperty from '../../../models/TSApplicationProperty';\nimport {ApplicationPropertyRS} from '../../service/applicationPropertyRS.rest';\nimport EbeguRestUtil from '../../../utils/EbeguRestUtil';\nimport {IComponentOptions} from 'angular';\nimport {ReindexRS} from '../../service/reindexRS.rest';\nimport AbstractAdminViewController from '../../abstractAdminView';\nimport AuthServiceRS from '../../../authentication/service/AuthServiceRS.rest';\nrequire('./adminView.less');\nlet template = require('./adminView.html');\nlet okDialogTempl = require('../../../gesuch/dialog/okDialogTemplate.html');\nlet linkDialogTempl = require('../../../gesuch/dialog/linkDialogTemplate.html');\n\nexport class AdminViewComponentConfig implements IComponentOptions {\n    transclude: boolean = false;\n    bindings: any = {\n        applicationProperties: '<'\n    };\n    template: string = template;\n    controller: any = AdminViewController;\n    controllerAs: string = 'vm';\n}\n\nexport class AdminViewController extends AbstractAdminViewController {\n    static $inject = ['ApplicationPropertyRS', 'MAX_LENGTH', 'EbeguRestUtil', 'ReindexRS', 'AuthServiceRS'];\n\n    length: number;\n    applicationProperty: TSApplicationProperty;\n    applicationPropertyRS: ApplicationPropertyRS;\n    applicationProperties: TSApplicationProperty[];\n    ebeguRestUtil: EbeguRestUtil;\n\n\n    /* @ngInject */\n    constructor(applicationPropertyRS: ApplicationPropertyRS, MAX_LENGTH: number, ebeguRestUtil: EbeguRestUtil,\n                private reindexRS: ReindexRS, authServiceRS: AuthServiceRS) {\n        super(authServiceRS);\n        this.length = MAX_LENGTH;\n        this.applicationProperty = undefined;\n        this.applicationPropertyRS = applicationPropertyRS;\n        this.ebeguRestUtil = ebeguRestUtil;\n    }\n\n    submit(): void {\n        //testen ob aktuelles property schon gespeichert ist\n        if (this.applicationProperty.isNew()) {\n            this.applicationPropertyRS.update(this.applicationProperty.name, this.applicationProperty.value);\n\n        } else {\n            this.applicationPropertyRS.create(this.applicationProperty.name, this.applicationProperty.value);\n        }\n        this.applicationProperty = undefined;\n    }\n\n    createItem(): void {\n        this.applicationProperty = new TSApplicationProperty('', '');\n    }\n\n    editRow(row: TSApplicationProperty): void {\n        this.applicationProperty = row;\n    }\n\n    resetForm(): void {\n        this.applicationProperty = undefined;\n        this.applicationPropertyRS.getAllApplicationProperties().then(response => {\n            this.applicationProperties = response;\n        });\n    }\n\n    private getIndexOfElementwithID(prop: TSApplicationProperty) {\n        let idToSearch = prop.id;\n        for (let i = 0; i < this.applicationProperties.length; i++) {\n            if (this.applicationProperties[i].id === idToSearch) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    public startReindex() {\n        return this.reindexRS.reindex();\n    }\n}\n"]}]}