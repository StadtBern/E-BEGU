{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/gesuch/service/dokumenteRS.rest.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/gesuch/service/dokumenteRS.rest.ts","mtime":1512484412019},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["\"use strict\";\n/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TSDokumenteDTO_1 = require(\"../../models/dto/TSDokumenteDTO\");\nvar TSDokumentGrund_1 = require(\"../../models/TSDokumentGrund\");\nvar TSDokumentGrundTyp_1 = require(\"../../models/enums/TSDokumentGrundTyp\");\nvar DokumenteRS = /** @class */ (function () {\n    /* @ngInject */\n    function DokumenteRS($http, REST_API, ebeguRestUtil, $log) {\n        this.serviceURL = REST_API + 'dokumente';\n        this.http = $http;\n        this.ebeguRestUtil = ebeguRestUtil;\n        this.log = $log;\n    }\n    DokumenteRS.prototype.getDokumente = function (gesuch) {\n        var _this = this;\n        return this.http.get(this.serviceURL + '/' + encodeURIComponent(gesuch.id))\n            .then(function (response) {\n            _this.log.debug('PARSING dokumentDTO REST object ', response.data);\n            return _this.ebeguRestUtil.parseDokumenteDTO(new TSDokumenteDTO_1.default(), response.data);\n        });\n    };\n    DokumenteRS.prototype.getDokumenteByTypeCached = function (gesuch, dokumentGrundTyp, cache) {\n        var _this = this;\n        return this.http.get(this.serviceURL + '/byTyp/' + encodeURIComponent(gesuch.id) + '/'\n            + encodeURIComponent(TSDokumentGrundTyp_1.TSDokumentGrundTyp[dokumentGrundTyp]), { cache: cache })\n            .then(function (response) {\n            _this.log.debug('PARSING cached dokumentDTO REST object ', response.data);\n            return _this.ebeguRestUtil.parseDokumenteDTO(new TSDokumenteDTO_1.default(), response.data);\n        });\n    };\n    DokumenteRS.prototype.getDokumenteByType = function (gesuch, dokumentGrundTyp) {\n        var _this = this;\n        return this.http.get(this.serviceURL + '/byTyp/' + encodeURIComponent(gesuch.id) + '/' + encodeURIComponent(TSDokumentGrundTyp_1.TSDokumentGrundTyp[dokumentGrundTyp]))\n            .then(function (response) {\n            _this.log.debug('PARSING dokumentDTO REST object ', response.data);\n            return _this.ebeguRestUtil.parseDokumenteDTO(new TSDokumenteDTO_1.default(), response.data);\n        });\n    };\n    DokumenteRS.prototype.updateDokumentGrund = function (dokumentGrund) {\n        var _this = this;\n        var restDokumentGrund = {};\n        restDokumentGrund = this.ebeguRestUtil.dokumentGrundToRestObject(restDokumentGrund, dokumentGrund);\n        return this.http.put(this.serviceURL, restDokumentGrund, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then(function (response) {\n            _this.log.debug('PARSING dokumentGrund REST object ', response.data);\n            return _this.ebeguRestUtil.parseDokumentGrund(new TSDokumentGrund_1.default(), response.data);\n        });\n    };\n    DokumenteRS.$inject = ['$http', 'REST_API', 'EbeguRestUtil', '$log'];\n    return DokumenteRS;\n}());\nexports.default = DokumenteRS;\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/gesuch/service/dokumenteRS.rest.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/gesuch/service/dokumenteRS.rest.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {IHttpService} from 'angular';\nimport EbeguRestUtil from '../../utils/EbeguRestUtil';\nimport TSGesuch from '../../models/TSGesuch';\nimport TSDokumenteDTO from '../../models/dto/TSDokumenteDTO';\nimport TSDokumentGrund from '../../models/TSDokumentGrund';\nimport {TSDokumentGrundTyp} from '../../models/enums/TSDokumentGrundTyp';\nimport IPromise = angular.IPromise;\nimport ILogService = angular.ILogService;\nimport ICacheObject = angular.ICacheObject;\n\n\nexport default class DokumenteRS {\n    serviceURL: string;\n    http: IHttpService;\n    ebeguRestUtil: EbeguRestUtil;\n    log: ILogService;\n\n    static $inject = ['$http', 'REST_API', 'EbeguRestUtil', '$log'];\n    /* @ngInject */\n    constructor($http: IHttpService, REST_API: string, ebeguRestUtil: EbeguRestUtil, $log: ILogService) {\n        this.serviceURL = REST_API + 'dokumente';\n        this.http = $http;\n        this.ebeguRestUtil = ebeguRestUtil;\n        this.log = $log;\n    }\n\n    public getDokumente(gesuch: TSGesuch): IPromise<TSDokumenteDTO> {\n        return this.http.get(this.serviceURL + '/' + encodeURIComponent(gesuch.id))\n            .then((response: any) => {\n                this.log.debug('PARSING dokumentDTO REST object ', response.data);\n                return this.ebeguRestUtil.parseDokumenteDTO(new TSDokumenteDTO(), response.data);\n            });\n    }\n\n\n    public getDokumenteByTypeCached(gesuch: TSGesuch, dokumentGrundTyp: TSDokumentGrundTyp, cache: ICacheObject): IPromise<TSDokumenteDTO> {\n        return this.http.get(this.serviceURL + '/byTyp/' + encodeURIComponent(gesuch.id) + '/'\n            + encodeURIComponent(TSDokumentGrundTyp[dokumentGrundTyp]), {cache: cache})\n            .then((response: any) => {\n                this.log.debug('PARSING cached dokumentDTO REST object ', response.data);\n                return this.ebeguRestUtil.parseDokumenteDTO(new TSDokumenteDTO(), response.data);\n            });\n    }\n\n    public getDokumenteByType(gesuch: TSGesuch, dokumentGrundTyp: TSDokumentGrundTyp): IPromise<TSDokumenteDTO> {\n        return this.http.get(this.serviceURL + '/byTyp/' + encodeURIComponent(gesuch.id) + '/' + encodeURIComponent(TSDokumentGrundTyp[dokumentGrundTyp]))\n            .then((response: any) => {\n                this.log.debug('PARSING dokumentDTO REST object ', response.data);\n                return this.ebeguRestUtil.parseDokumenteDTO(new TSDokumenteDTO(), response.data);\n            });\n    }\n\n    public updateDokumentGrund(dokumentGrund: TSDokumentGrund): IPromise<TSDokumentGrund> {\n        let restDokumentGrund = {};\n        restDokumentGrund = this.ebeguRestUtil.dokumentGrundToRestObject(restDokumentGrund, dokumentGrund);\n        return this.http.put(this.serviceURL, restDokumentGrund, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then((response: any) => {\n            this.log.debug('PARSING dokumentGrund REST object ', response.data);\n            return this.ebeguRestUtil.parseDokumentGrund(new TSDokumentGrund(), response.data);\n        });\n    }\n\n}\n"]}]}