{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/admin/abstractAdminView.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/admin/abstractAdminView.ts","mtime":1518612532782},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["\"use strict\";\n/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TSRole_1 = require(\"../models/enums/TSRole\");\nvar TSRoleUtil_1 = require(\"../utils/TSRoleUtil\");\nvar TSGesuchsperiodeStatus_1 = require(\"../models/enums/TSGesuchsperiodeStatus\");\nvar AbstractAdminViewController = /** @class */ (function () {\n    function AbstractAdminViewController(authServiceRS) {\n        this.authServiceRS = authServiceRS;\n        this.TSRole = TSRole_1.TSRole;\n        this.TSRoleUtil = TSRoleUtil_1.TSRoleUtil;\n    }\n    AbstractAdminViewController.prototype.$onInit = function () {\n    };\n    AbstractAdminViewController.prototype.isReadonly = function () {\n        return !this.authServiceRS.isOneOfRoles(TSRoleUtil_1.TSRoleUtil.getJAAdministratorRoles());\n    };\n    AbstractAdminViewController.prototype.isAnyAdminRole = function () {\n        return this.authServiceRS.isOneOfRoles(TSRoleUtil_1.TSRoleUtil.getAdministratorRoles());\n    };\n    AbstractAdminViewController.prototype.periodenParamsEditableForPeriode = function (gesuchsperiode) {\n        if (gesuchsperiode && gesuchsperiode.status) {\n            // Fuer SuperAdmin immer auch editierbar, wenn AKTIV oder INAKTIV, sonst nur ENTWURF\n            if (TSGesuchsperiodeStatus_1.TSGesuchsperiodeStatus.GESCHLOSSEN === gesuchsperiode.status) {\n                return false;\n            }\n            else if (this.authServiceRS.isOneOfRoles(this.TSRoleUtil.getSuperAdminRoles())) {\n                return true;\n            }\n            else {\n                return TSGesuchsperiodeStatus_1.TSGesuchsperiodeStatus.ENTWURF === gesuchsperiode.status;\n            }\n        }\n        return false;\n    };\n    return AbstractAdminViewController;\n}());\nexports.default = AbstractAdminViewController;\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/admin/abstractAdminView.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/admin/abstractAdminView.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;GAaG;;AAEH,iDAA8C;AAC9C,kDAA+C;AAG/C,iFAA8E;AAE9E;IAKI,qCAAmB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAC3C,IAAI,CAAC,MAAM,GAAG,eAAM,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,uBAAU,CAAC;IACjC,CAAC;IAED,6CAAO,GAAP;IACA,CAAC;IAEM,gDAAU,GAAjB;QACI,MAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,uBAAU,CAAC,uBAAuB,EAAE,CAAC,CAAC;IAClF,CAAC;IAEM,oDAAc,GAArB;QACI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,uBAAU,CAAC,qBAAqB,EAAE,CAAC,CAAC;IAC/E,CAAC;IAEM,sEAAgC,GAAvC,UAAwC,cAAgC;QACpE,EAAE,CAAC,CAAC,cAAc,IAAI,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;YAC1C,oFAAoF;YACpF,EAAE,CAAC,CAAC,+CAAsB,CAAC,WAAW,KAAK,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC/D,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC/E,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,MAAM,CAAC,+CAAsB,CAAC,OAAO,KAAK,cAAc,CAAC,MAAM,CAAC;YACpE,CAAC;QACL,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACL,kCAAC;AAAD,CAAC,AAlCD,IAkCC","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {TSRole} from '../models/enums/TSRole';\nimport {TSRoleUtil} from '../utils/TSRoleUtil';\nimport AuthServiceRS from '../authentication/service/AuthServiceRS.rest';\nimport TSGesuchsperiode from '../models/TSGesuchsperiode';\nimport {TSGesuchsperiodeStatus} from '../models/enums/TSGesuchsperiodeStatus';\n\nexport default class AbstractAdminViewController {\n\n    TSRole: any;\n    TSRoleUtil: any;\n\n    constructor(public authServiceRS: AuthServiceRS) {\n        this.TSRole = TSRole;\n        this.TSRoleUtil = TSRoleUtil;\n    }\n\n    $onInit() {\n    }\n\n    public isReadonly(): boolean {\n        return !this.authServiceRS.isOneOfRoles(TSRoleUtil.getJAAdministratorRoles());\n    }\n\n    public isAnyAdminRole(): boolean {\n        return this.authServiceRS.isOneOfRoles(TSRoleUtil.getAdministratorRoles());\n    }\n\n    public periodenParamsEditableForPeriode(gesuchsperiode: TSGesuchsperiode): boolean {\n        if (gesuchsperiode && gesuchsperiode.status) {\n            // Fuer SuperAdmin immer auch editierbar, wenn AKTIV oder INAKTIV, sonst nur ENTWURF\n            if (TSGesuchsperiodeStatus.GESCHLOSSEN === gesuchsperiode.status) {\n                return false;\n            } else if (this.authServiceRS.isOneOfRoles(this.TSRoleUtil.getSuperAdminRoles())) {\n                return true;\n            } else {\n                return TSGesuchsperiodeStatus.ENTWURF === gesuchsperiode.status;\n            }\n        }\n        return false;\n    }\n}\n"]}]}