{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/models/TSGesuchsperiode.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/models/TSGesuchsperiode.ts","mtime":1518612532814},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["\"use strict\";\n/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TSAbstractDateRangedEntity_1 = require(\"./TSAbstractDateRangedEntity\");\nvar TSGesuchsperiodeStatus_1 = require(\"./enums/TSGesuchsperiodeStatus\");\nvar moment = require(\"moment\");\nvar TSGesuchsperiode = /** @class */ (function (_super) {\n    __extends(TSGesuchsperiode, _super);\n    function TSGesuchsperiode(status, gueltigkeit, datumFreischaltungTagesschule, datumErsterSchultag) {\n        var _this = _super.call(this, gueltigkeit) || this;\n        _this._status = status;\n        _this._datumFreischaltungTagesschule = datumFreischaltungTagesschule;\n        _this._datumErsterSchultag = datumErsterSchultag;\n        return _this;\n    }\n    Object.defineProperty(TSGesuchsperiode.prototype, \"status\", {\n        get: function () {\n            return this._status;\n        },\n        set: function (value) {\n            this._status = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TSGesuchsperiode.prototype, \"datumFreischaltungTagesschule\", {\n        get: function () {\n            return this._datumFreischaltungTagesschule;\n        },\n        set: function (value) {\n            this._datumFreischaltungTagesschule = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TSGesuchsperiode.prototype, \"datumErsterSchultag\", {\n        get: function () {\n            return this._datumErsterSchultag;\n        },\n        set: function (value) {\n            this._datumErsterSchultag = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TSGesuchsperiode.prototype, \"gesuchsperiodeString\", {\n        get: function () {\n            if (this.gueltigkeit && this.gueltigkeit.gueltigAb && this.gueltigkeit.gueltigBis) {\n                return this.gueltigkeit.gueltigAb.year() + '/'\n                    + (this.gueltigkeit.gueltigBis.year() - 2000);\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Ein datumFreischaltungTagesschule, das nicht vor dem Gesuchsperiodeanfang liegt, wird als \"nicht konfiguriert\" betrachtet.\n     * Dies ist so, weil ein datumFreischaltungTagesschule immer vor dem Gesuchsperiodeanfang liegen muss, damit die Kinder sich\n     * rechtzeitig anmelden koennen.\n     */\n    TSGesuchsperiode.prototype.isTagesschulenAnmeldungKonfiguriert = function () {\n        return this.hasTagesschulenAnmeldung()\n            && (this.datumFreischaltungTagesschule.isBefore(this.gueltigkeit.gueltigAb)\n                || this.datumFreischaltungTagesschule.isSame(moment([])));\n    };\n    TSGesuchsperiode.prototype.isTageschulenAnmeldungAktiv = function () {\n        return this.isTagesschulenAnmeldungKonfiguriert() && this.datumFreischaltungTagesschule.isBefore(moment());\n    };\n    TSGesuchsperiode.prototype.hasTagesschulenAnmeldung = function () {\n        return this._datumFreischaltungTagesschule !== null && this.datumFreischaltungTagesschule !== undefined;\n    };\n    TSGesuchsperiode.prototype.isEntwurf = function () {\n        return this.status === TSGesuchsperiodeStatus_1.TSGesuchsperiodeStatus.ENTWURF;\n    };\n    return TSGesuchsperiode;\n}(TSAbstractDateRangedEntity_1.TSAbstractDateRangedEntity));\nexports.default = TSGesuchsperiode;\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/models/TSGesuchsperiode.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/models/TSGesuchsperiode.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;GAaG;;;;;;;;;;;;AAEH,2EAAwE;AAExE,yEAAsE;AACtE,+BAAiC;AAEjC;IAA8C,oCAA0B;IAMpE,0BAAY,MAA+B,EAAE,WAAyB,EAAE,6BAA6C,EAAE,mBAAmC;QAA1J,YACI,kBAAM,WAAW,CAAC,SAIrB;QAHG,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,KAAI,CAAC,8BAA8B,GAAG,6BAA6B,CAAC;QACpE,KAAI,CAAC,oBAAoB,GAAG,mBAAmB,CAAC;;IACpD,CAAC;IAED,sBAAI,oCAAM;aAAV;YACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAW,KAA6B;YACpC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC;;;OAJA;IAMD,sBAAI,2DAA6B;aAAjC;YACI,MAAM,CAAC,IAAI,CAAC,8BAA8B,CAAC;QAC/C,CAAC;aAED,UAAkC,KAAoB;YAClD,IAAI,CAAC,8BAA8B,GAAG,KAAK,CAAC;QAChD,CAAC;;;OAJA;IAMD,sBAAI,iDAAmB;aAAvB;YACI,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC;QACrC,CAAC;aAED,UAAwB,KAAoB;YACxC,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QACtC,CAAC;;;OAJA;IAMD,sBAAI,kDAAoB;aAAxB;YACI,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC;gBAChF,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,GAAG,GAAG;sBACxC,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,CAAC;YACtD,CAAC;YACD,MAAM,CAAC,SAAS,CAAC;QACrB,CAAC;;;OAAA;IAED;;;;OAIG;IACH,8DAAmC,GAAnC;QACI,MAAM,CAAC,IAAI,CAAC,wBAAwB,EAAE;eAC/B,CAAC,IAAI,CAAC,6BAA6B,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;mBACxE,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAClE,CAAC;IAED,sDAA2B,GAA3B;QACI,MAAM,CAAC,IAAI,CAAC,mCAAmC,EAAE,IAAI,IAAI,CAAC,6BAA6B,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;IAC/G,CAAC;IAED,mDAAwB,GAAxB;QACI,MAAM,CAAC,IAAI,CAAC,8BAA8B,KAAK,IAAI,IAAI,IAAI,CAAC,6BAA6B,KAAK,SAAS,CAAC;IAC5G,CAAC;IAED,oCAAS,GAAT;QACI,MAAM,CAAC,IAAI,CAAC,MAAM,KAAK,+CAAsB,CAAC,OAAO,CAAC;IAC1D,CAAC;IACL,uBAAC;AAAD,CAAC,AAnED,CAA8C,uDAA0B,GAmEvE","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {TSAbstractDateRangedEntity} from './TSAbstractDateRangedEntity';\nimport {TSDateRange} from './types/TSDateRange';\nimport {TSGesuchsperiodeStatus} from './enums/TSGesuchsperiodeStatus';\nimport * as moment from 'moment';\n\nexport default class TSGesuchsperiode extends TSAbstractDateRangedEntity {\n\n    private _status: TSGesuchsperiodeStatus;\n    private _datumFreischaltungTagesschule: moment.Moment;\n    private _datumErsterSchultag: moment.Moment;\n\n    constructor(status?: TSGesuchsperiodeStatus, gueltigkeit?: TSDateRange, datumFreischaltungTagesschule?: moment.Moment, datumErsterSchultag?: moment.Moment) {\n        super(gueltigkeit);\n        this._status = status;\n        this._datumFreischaltungTagesschule = datumFreischaltungTagesschule;\n        this._datumErsterSchultag = datumErsterSchultag;\n    }\n\n    get status(): TSGesuchsperiodeStatus {\n        return this._status;\n    }\n\n    set status(value: TSGesuchsperiodeStatus) {\n        this._status = value;\n    }\n\n    get datumFreischaltungTagesschule(): moment.Moment {\n        return this._datumFreischaltungTagesschule;\n    }\n\n    set datumFreischaltungTagesschule(value: moment.Moment) {\n        this._datumFreischaltungTagesschule = value;\n    }\n\n    get datumErsterSchultag(): moment.Moment {\n        return this._datumErsterSchultag;\n    }\n\n    set datumErsterSchultag(value: moment.Moment) {\n        this._datumErsterSchultag = value;\n    }\n\n    get gesuchsperiodeString(): string {\n        if (this.gueltigkeit && this.gueltigkeit.gueltigAb && this.gueltigkeit.gueltigBis) {\n            return this.gueltigkeit.gueltigAb.year() + '/'\n                + (this.gueltigkeit.gueltigBis.year() - 2000);\n        }\n        return undefined;\n    }\n\n    /**\n     * Ein datumFreischaltungTagesschule, das nicht vor dem Gesuchsperiodeanfang liegt, wird als \"nicht konfiguriert\" betrachtet.\n     * Dies ist so, weil ein datumFreischaltungTagesschule immer vor dem Gesuchsperiodeanfang liegen muss, damit die Kinder sich\n     * rechtzeitig anmelden koennen.\n     */\n    isTagesschulenAnmeldungKonfiguriert(): boolean {\n        return this.hasTagesschulenAnmeldung()\n            && (this.datumFreischaltungTagesschule.isBefore(this.gueltigkeit.gueltigAb)\n            || this.datumFreischaltungTagesschule.isSame(moment([])));\n    }\n\n    isTageschulenAnmeldungAktiv(): boolean {\n        return this.isTagesschulenAnmeldungKonfiguriert() && this.datumFreischaltungTagesschule.isBefore(moment());\n    }\n\n    hasTagesschulenAnmeldung(): boolean {\n        return this._datumFreischaltungTagesschule !== null && this.datumFreischaltungTagesschule !== undefined;\n    }\n\n    isEntwurf(): boolean {\n        return this.status === TSGesuchsperiodeStatus.ENTWURF;\n    }\n}\n"]}]}