{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/posteingang/component/posteingangView.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/posteingang/component/posteingangView.ts","mtime":1518535855236},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\ndefine([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var template = require('./posteingangView.html');\n    require('./posteingangView.less');\n    var PosteingangViewComponentConfig = /** @class */ (function () {\n        function PosteingangViewComponentConfig() {\n            this.transclude = false;\n            this.template = template;\n            this.controller = PosteingangViewController;\n            this.controllerAs = 'vm';\n        }\n        return PosteingangViewComponentConfig;\n    }());\n    exports.PosteingangViewComponentConfig = PosteingangViewComponentConfig;\n    var PosteingangViewController = /** @class */ (function () {\n        function PosteingangViewController(mitteilungRS, ebeguUtil, CONSTANTS, $state) {\n            this.mitteilungRS = mitteilungRS;\n            this.ebeguUtil = ebeguUtil;\n            this.CONSTANTS = CONSTANTS;\n            this.$state = $state;\n            this.itemsByPage = 20;\n            this.numberOfPages = 1;\n            this.initViewModel();\n        }\n        PosteingangViewController.prototype.getMitteilungen = function () {\n            return this.mitteilungen;\n        };\n        PosteingangViewController.prototype.addZerosToFallNummer = function (fallnummer) {\n            return this.ebeguUtil.addZerosToNumber(fallnummer, this.CONSTANTS.FALLNUMMER_LENGTH);\n        };\n        PosteingangViewController.prototype.initViewModel = function () {\n            this.updatePosteingang();\n        };\n        PosteingangViewController.prototype.updatePosteingang = function () {\n            var _this = this;\n            this.mitteilungRS.getMitteilungenForPosteingang().then(function (response) {\n                _this.mitteilungen = angular.copy(response);\n                _this.numberOfPages = _this.mitteilungen.length / _this.itemsByPage;\n            });\n        };\n        PosteingangViewController.prototype.gotoMitteilung = function (mitteilung) {\n            this.$state.go('mitteilungen', {\n                fallId: mitteilung.fall.id\n            });\n        };\n        PosteingangViewController.$inject = ['MitteilungRS', 'EbeguUtil', 'CONSTANTS', '$state'];\n        return PosteingangViewController;\n    }());\n    exports.PosteingangViewController = PosteingangViewController;\n});\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/posteingang/component/posteingangView.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/posteingang/component/posteingangView.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;GAaG;;;;IAOH,IAAI,QAAQ,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;IACjD,OAAO,CAAC,wBAAwB,CAAC,CAAC;IAElC;QAAA;YACI,eAAU,GAAG,KAAK,CAAC;YACnB,aAAQ,GAAG,QAAQ,CAAC;YACpB,eAAU,GAAG,yBAAyB,CAAC;YACvC,iBAAY,GAAG,IAAI,CAAC;QACxB,CAAC;QAAD,qCAAC;IAAD,CAAC,AALD,IAKC;IALY,wEAA8B;IAO3C;QASI,mCAAoB,YAA0B,EAAU,SAAoB,EAAU,SAAc,EAAU,MAAqB;YAA/G,iBAAY,GAAZ,YAAY,CAAc;YAAU,cAAS,GAAT,SAAS,CAAW;YAAU,cAAS,GAAT,SAAS,CAAK;YAAU,WAAM,GAAN,MAAM,CAAe;YALnI,gBAAW,GAAW,EAAE,CAAC;YACzB,kBAAa,GAAW,CAAC,CAAC;YAKtB,IAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC;QAEM,mDAAe,GAAtB;YACI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;QAEM,wDAAoB,GAA3B,UAA4B,UAAkB;YAC1C,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC;QACzF,CAAC;QAEO,iDAAa,GAArB;YACI,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC7B,CAAC;QAEO,qDAAiB,GAAzB;YAAA,iBAKC;YAJG,IAAI,CAAC,YAAY,CAAC,6BAA6B,EAAE,CAAC,IAAI,CAAC,UAAC,QAAa;gBACjE,KAAI,CAAC,YAAY,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC3C,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,YAAY,CAAC,MAAM,GAAG,KAAI,CAAC,WAAW,CAAC;YACrE,CAAC,CAAC,CAAC;QACP,CAAC;QAEO,kDAAc,GAAtB,UAAuB,UAAwB;YAC3C,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE;gBAC3B,MAAM,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE;aAC7B,CAAC,CAAC;QACP,CAAC;QA7BM,iCAAO,GAAa,CAAC,cAAc,EAAE,WAAW,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;QA8BpF,gCAAC;KAAA,AArCD,IAqCC;IArCY,8DAAyB","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {IComponentOptions} from 'angular';\nimport TSMitteilung from '../../models/TSMitteilung';\nimport MitteilungRS from '../../core/service/mitteilungRS.rest';\nimport EbeguUtil from '../../utils/EbeguUtil';\nimport IStateService = angular.ui.IStateService;\nlet template = require('./posteingangView.html');\nrequire('./posteingangView.less');\n\nexport class PosteingangViewComponentConfig implements IComponentOptions {\n    transclude = false;\n    template = template;\n    controller = PosteingangViewController;\n    controllerAs = 'vm';\n}\n\nexport class PosteingangViewController {\n\n    private mitteilungen: Array<TSMitteilung>;\n\n    itemsByPage: number = 20;\n    numberOfPages: number = 1;\n\n    static $inject: string[] = ['MitteilungRS', 'EbeguUtil', 'CONSTANTS', '$state'];\n\n    constructor(private mitteilungRS: MitteilungRS, private ebeguUtil: EbeguUtil, private CONSTANTS: any, private $state: IStateService) {\n        this.initViewModel();\n    }\n\n    public getMitteilungen() {\n        return this.mitteilungen;\n    }\n\n    public addZerosToFallNummer(fallnummer: number): string {\n        return this.ebeguUtil.addZerosToNumber(fallnummer, this.CONSTANTS.FALLNUMMER_LENGTH);\n    }\n\n    private initViewModel() {\n        this.updatePosteingang();\n    }\n\n    private updatePosteingang() {\n        this.mitteilungRS.getMitteilungenForPosteingang().then((response: any) => {\n            this.mitteilungen = angular.copy(response);\n            this.numberOfPages = this.mitteilungen.length / this.itemsByPage;\n        });\n    }\n\n    private gotoMitteilung(mitteilung: TSMitteilung) {\n        this.$state.go('mitteilungen', {\n            fallId: mitteilung.fall.id\n        });\n    }\n}\n"]}]}