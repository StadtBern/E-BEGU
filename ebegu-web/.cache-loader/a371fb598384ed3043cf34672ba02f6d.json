{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts","mtime":1518535855236},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\ndefine([\"require\", \"exports\", \"../../../utils/TSRoleUtil\"], function (require, exports, TSRoleUtil_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var template = require('./pendenzenSteueramtListView.html');\n    var PendenzenSteueramtListViewComponentConfig = /** @class */ (function () {\n        function PendenzenSteueramtListViewComponentConfig() {\n            this.transclude = false;\n            this.template = template;\n            this.controller = PendenzenSteueramtListViewController;\n            this.controllerAs = 'vm';\n        }\n        return PendenzenSteueramtListViewComponentConfig;\n    }());\n    exports.PendenzenSteueramtListViewComponentConfig = PendenzenSteueramtListViewComponentConfig;\n    var PendenzenSteueramtListViewController = /** @class */ (function () {\n        function PendenzenSteueramtListViewController(gesuchModelManager, $state, $log, gesuchRS) {\n            var _this = this;\n            this.gesuchModelManager = gesuchModelManager;\n            this.$state = $state;\n            this.$log = $log;\n            this.gesuchRS = gesuchRS;\n            this.totalResultCount = '0';\n            this.passFilterToServer = function (tableFilterState) {\n                _this.$log.debug('Triggering ServerFiltering with Filter Object', tableFilterState);\n                return _this.gesuchRS.searchAntraege(tableFilterState).then(function (response) {\n                    _this.totalResultCount = response.totalResultSize ? response.totalResultSize.toString() : '0';\n                    return response;\n                });\n            };\n            this.TSRoleUtil = TSRoleUtil_1.TSRoleUtil;\n        }\n        PendenzenSteueramtListViewController.prototype.$onInit = function () {\n        };\n        PendenzenSteueramtListViewController.prototype.editpendenzSteueramt = function (pendenz, event) {\n            if (pendenz) {\n                var isCtrlKeyPressed = (event && event.ctrlKey);\n                this.openPendenz(pendenz, isCtrlKeyPressed);\n            }\n        };\n        PendenzenSteueramtListViewController.prototype.openPendenz = function (pendenz, isCtrlKeyPressed) {\n            this.gesuchModelManager.clearGesuch();\n            var navObj = {\n                gesuchId: pendenz.antragId\n            };\n            if (isCtrlKeyPressed) {\n                var url = this.$state.href('gesuch.familiensituation', navObj);\n                window.open(url, '_blank');\n            }\n            else {\n                this.$state.go('gesuch.familiensituation', navObj);\n            }\n        };\n        PendenzenSteueramtListViewController.$inject = ['GesuchModelManager', '$state', '$log', 'GesuchRS'];\n        return PendenzenSteueramtListViewController;\n    }());\n    exports.PendenzenSteueramtListViewController = PendenzenSteueramtListViewController;\n});\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;GAaG;;;;IAYH,IAAI,QAAQ,GAAG,OAAO,CAAC,mCAAmC,CAAC,CAAC;IAE5D;QAAA;YACI,eAAU,GAAG,KAAK,CAAC;YACnB,aAAQ,GAAG,QAAQ,CAAC;YACpB,eAAU,GAAG,oCAAoC,CAAC;YAClD,iBAAY,GAAG,IAAI,CAAC;QACxB,CAAC;QAAD,gDAAC;IAAD,CAAC,AALD,IAKC;IALY,8FAAyC;IAOtD;QAQI,8CAAoB,kBAAsC,EAAU,MAAqB,EAAU,IAAiB,EAChG,QAAkB;YADtC,iBAGC;YAHmB,uBAAkB,GAAlB,kBAAkB,CAAoB;YAAU,WAAM,GAAN,MAAM,CAAe;YAAU,SAAI,GAAJ,IAAI,CAAa;YAChG,aAAQ,GAAR,QAAQ,CAAU;YAPtC,qBAAgB,GAAW,GAAG,CAAC;YAsBxB,uBAAkB,GAAG,UAAC,gBAAqB;gBAC9C,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,+CAA+C,EAAE,gBAAgB,CAAC,CAAC;gBACnF,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAC,QAAiC;oBACzF,KAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;oBAC7F,MAAM,CAAC,QAAQ,CAAC;gBACpB,CAAC,CAAC,CAAC;YAEP,CAAC,CAAA;YArBG,IAAI,CAAC,UAAU,GAAG,uBAAU,CAAC;QACjC,CAAC;QAED,sDAAO,GAAP;QACA,CAAC;QAGM,mEAAoB,GAA3B,UAA4B,OAAoB,EAAE,KAAU;YACxD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACV,IAAI,gBAAgB,GAAY,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;gBACzD,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;YAChD,CAAC;QACL,CAAC;QAWO,0DAAW,GAAnB,UAAoB,OAAoB,EAAE,gBAAyB;YAC/D,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;YACtC,IAAI,MAAM,GAAQ;gBACd,QAAQ,EAAE,OAAO,CAAC,QAAQ;aAC7B,CAAC;YACF,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBACnB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;gBAC/D,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;YACvD,CAAC;QACL,CAAC;QAtCM,4CAAO,GAAa,CAAC,oBAAoB,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;QAwCpF,2CAAC;KAAA,AA9CD,IA8CC;IA9CY,oFAAoC","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport IComponentOptions = angular.IComponentOptions;\nimport IPromise = angular.IPromise;\nimport ILogService = angular.ILogService;\nimport GesuchModelManager from '../../../gesuch/service/gesuchModelManager';\nimport {IStateService} from 'angular-ui-router';\nimport TSAntragDTO from '../../../models/TSAntragDTO';\nimport TSAntragSearchresultDTO from '../../../models/TSAntragSearchresultDTO';\nimport GesuchRS from '../../../gesuch/service/gesuchRS.rest';\nimport {TSRoleUtil} from '../../../utils/TSRoleUtil';\n\nlet template = require('./pendenzenSteueramtListView.html');\n\nexport class PendenzenSteueramtListViewComponentConfig implements IComponentOptions {\n    transclude = false;\n    template = template;\n    controller = PendenzenSteueramtListViewController;\n    controllerAs = 'vm';\n}\n\nexport class PendenzenSteueramtListViewController {\n\n    totalResultCount: string = '0';\n    TSRoleUtil: any;\n\n\n    static $inject: string[] = ['GesuchModelManager', '$state', '$log', 'GesuchRS'];\n\n    constructor(private gesuchModelManager: GesuchModelManager, private $state: IStateService, private $log: ILogService,\n                private gesuchRS: GesuchRS) {\n        this.TSRoleUtil = TSRoleUtil;\n    }\n\n    $onInit() {\n    }\n\n\n    public editpendenzSteueramt(pendenz: TSAntragDTO, event: any): void {\n        if (pendenz) {\n            let isCtrlKeyPressed: boolean = (event && event.ctrlKey);\n            this.openPendenz(pendenz, isCtrlKeyPressed);\n        }\n    }\n\n    public passFilterToServer = (tableFilterState: any): IPromise<TSAntragSearchresultDTO> => {\n        this.$log.debug('Triggering ServerFiltering with Filter Object', tableFilterState);\n        return this.gesuchRS.searchAntraege(tableFilterState).then((response: TSAntragSearchresultDTO) => {\n            this.totalResultCount = response.totalResultSize ? response.totalResultSize.toString() : '0';\n            return response;\n        });\n\n    }\n\n    private openPendenz(pendenz: TSAntragDTO, isCtrlKeyPressed: boolean) {\n        this.gesuchModelManager.clearGesuch();\n        let navObj: any = {\n            gesuchId: pendenz.antragId\n        };\n        if (isCtrlKeyPressed) {\n            let url = this.$state.href('gesuch.familiensituation', navObj);\n            window.open(url, '_blank');\n        } else {\n            this.$state.go('gesuch.familiensituation', navObj);\n        }\n    }\n\n}\n"]}]}