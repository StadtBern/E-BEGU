{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts","mtime":1518612532818},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["\"use strict\";\n/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TSRoleUtil_1 = require(\"../../../utils/TSRoleUtil\");\nvar template = require('./pendenzenSteueramtListView.html');\nvar PendenzenSteueramtListViewComponentConfig = /** @class */ (function () {\n    function PendenzenSteueramtListViewComponentConfig() {\n        this.transclude = false;\n        this.template = template;\n        this.controller = PendenzenSteueramtListViewController;\n        this.controllerAs = 'vm';\n    }\n    return PendenzenSteueramtListViewComponentConfig;\n}());\nexports.PendenzenSteueramtListViewComponentConfig = PendenzenSteueramtListViewComponentConfig;\nvar PendenzenSteueramtListViewController = /** @class */ (function () {\n    function PendenzenSteueramtListViewController(gesuchModelManager, $state, $log, searchRS) {\n        var _this = this;\n        this.gesuchModelManager = gesuchModelManager;\n        this.$state = $state;\n        this.$log = $log;\n        this.searchRS = searchRS;\n        this.totalResultCount = '0';\n        this.passFilterToServer = function (tableFilterState) {\n            _this.$log.debug('Triggering ServerFiltering with Filter Object', tableFilterState);\n            return _this.searchRS.searchAntraege(tableFilterState).then(function (response) {\n                _this.totalResultCount = response.totalResultSize ? response.totalResultSize.toString() : '0';\n                return response;\n            });\n        };\n        this.TSRoleUtil = TSRoleUtil_1.TSRoleUtil;\n    }\n    PendenzenSteueramtListViewController.prototype.$onInit = function () {\n    };\n    PendenzenSteueramtListViewController.prototype.editpendenzSteueramt = function (pendenz, event) {\n        if (pendenz) {\n            var isCtrlKeyPressed = (event && event.ctrlKey);\n            this.openPendenz(pendenz, isCtrlKeyPressed);\n        }\n    };\n    PendenzenSteueramtListViewController.prototype.openPendenz = function (pendenz, isCtrlKeyPressed) {\n        this.gesuchModelManager.clearGesuch();\n        var navObj = {\n            gesuchId: pendenz.antragId\n        };\n        if (isCtrlKeyPressed) {\n            var url = this.$state.href('gesuch.familiensituation', navObj);\n            window.open(url, '_blank');\n        }\n        else {\n            this.$state.go('gesuch.familiensituation', navObj);\n        }\n    };\n    PendenzenSteueramtListViewController.$inject = ['GesuchModelManager', '$state', '$log', 'SearchRS'];\n    return PendenzenSteueramtListViewController;\n}());\nexports.PendenzenSteueramtListViewController = PendenzenSteueramtListViewController;\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/pendenzenSteueramt/component/pendenzenSteueramtListView/pendenzenSteueramtListView.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;GAaG;;AASH,wDAAqD;AAGrD,IAAI,QAAQ,GAAG,OAAO,CAAC,mCAAmC,CAAC,CAAC;AAE5D;IAAA;QACI,eAAU,GAAG,KAAK,CAAC;QACnB,aAAQ,GAAG,QAAQ,CAAC;QACpB,eAAU,GAAG,oCAAoC,CAAC;QAClD,iBAAY,GAAG,IAAI,CAAC;IACxB,CAAC;IAAD,gDAAC;AAAD,CAAC,AALD,IAKC;AALY,8FAAyC;AAOtD;IAQI,8CAAoB,kBAAsC,EAAU,MAAqB,EAAU,IAAiB,EAChG,QAAkB;QADtC,iBAGC;QAHmB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,WAAM,GAAN,MAAM,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAa;QAChG,aAAQ,GAAR,QAAQ,CAAU;QAPtC,qBAAgB,GAAW,GAAG,CAAC;QAsBxB,uBAAkB,GAAG,UAAC,gBAAqB;YAC9C,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,+CAA+C,EAAE,gBAAgB,CAAC,CAAC;YACnF,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAC,QAAiC;gBACzF,KAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC7F,MAAM,CAAC,QAAQ,CAAC;YACpB,CAAC,CAAC,CAAC;QAEP,CAAC,CAAA;QArBG,IAAI,CAAC,UAAU,GAAG,uBAAU,CAAC;IACjC,CAAC;IAED,sDAAO,GAAP;IACA,CAAC;IAGM,mEAAoB,GAA3B,UAA4B,OAAoB,EAAE,KAAU;QACxD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,IAAI,gBAAgB,GAAY,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAWO,0DAAW,GAAnB,UAAoB,OAAoB,EAAE,gBAAyB;QAC/D,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;QACtC,IAAI,MAAM,GAAQ;YACd,QAAQ,EAAE,OAAO,CAAC,QAAQ;SAC7B,CAAC;QACF,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACnB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;YAC/D,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC/B,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;QACvD,CAAC;IACL,CAAC;IAtCM,4CAAO,GAAa,CAAC,oBAAoB,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;IAuCpF,2CAAC;CAAA,AA7CD,IA6CC;AA7CY,oFAAoC","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport IComponentOptions = angular.IComponentOptions;\nimport IPromise = angular.IPromise;\nimport ILogService = angular.ILogService;\nimport GesuchModelManager from '../../../gesuch/service/gesuchModelManager';\nimport {IStateService} from 'angular-ui-router';\nimport TSAntragDTO from '../../../models/TSAntragDTO';\nimport TSAntragSearchresultDTO from '../../../models/TSAntragSearchresultDTO';\nimport {TSRoleUtil} from '../../../utils/TSRoleUtil';\nimport SearchRS from '../../../gesuch/service/searchRS.rest';\n\nlet template = require('./pendenzenSteueramtListView.html');\n\nexport class PendenzenSteueramtListViewComponentConfig implements IComponentOptions {\n    transclude = false;\n    template = template;\n    controller = PendenzenSteueramtListViewController;\n    controllerAs = 'vm';\n}\n\nexport class PendenzenSteueramtListViewController {\n\n    totalResultCount: string = '0';\n    TSRoleUtil: any;\n\n\n    static $inject: string[] = ['GesuchModelManager', '$state', '$log', 'SearchRS'];\n\n    constructor(private gesuchModelManager: GesuchModelManager, private $state: IStateService, private $log: ILogService,\n                private searchRS: SearchRS) {\n        this.TSRoleUtil = TSRoleUtil;\n    }\n\n    $onInit() {\n    }\n\n\n    public editpendenzSteueramt(pendenz: TSAntragDTO, event: any): void {\n        if (pendenz) {\n            let isCtrlKeyPressed: boolean = (event && event.ctrlKey);\n            this.openPendenz(pendenz, isCtrlKeyPressed);\n        }\n    }\n\n    public passFilterToServer = (tableFilterState: any): IPromise<TSAntragSearchresultDTO> => {\n        this.$log.debug('Triggering ServerFiltering with Filter Object', tableFilterState);\n        return this.searchRS.searchAntraege(tableFilterState).then((response: TSAntragSearchresultDTO) => {\n            this.totalResultCount = response.totalResultSize ? response.totalResultSize.toString() : '0';\n            return response;\n        });\n\n    }\n\n    private openPendenz(pendenz: TSAntragDTO, isCtrlKeyPressed: boolean) {\n        this.gesuchModelManager.clearGesuch();\n        let navObj: any = {\n            gesuchId: pendenz.antragId\n        };\n        if (isCtrlKeyPressed) {\n            let url = this.$state.href('gesuch.familiensituation', navObj);\n            window.open(url, '_blank');\n        } else {\n            this.$state.go('gesuch.familiensituation', navObj);\n        }\n    }\n}\n"]}]}