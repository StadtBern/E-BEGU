{"remainingRequest":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js??ref--0-1!/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js??ref--0-2!/home/imanol/projects/ebegu/ebegu-web/src/pendenzen/component/pendenzenListView/pendenzenListView.ts","cacheIdentifier":"cache-loader:1.1.0 test","dependencies":[{"path":"/home/imanol/projects/ebegu/ebegu-web/src/pendenzen/component/pendenzenListView/pendenzenListView.ts","mtime":1518612532814},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/cache-loader/dist/cjs.js","mtime":1507514019000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/thread-loader/dist/cjs.js","mtime":1507523420000},{"path":"/home/imanol/projects/ebegu/ebegu-web/node_modules/ts-loader/index.js","mtime":1508488471000}],"contextDependencies":[],"result":["\"use strict\";\n/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar template = require('./pendenzenListView.html');\nrequire('./pendenzenListView.less');\nvar PendenzenListViewComponentConfig = /** @class */ (function () {\n    function PendenzenListViewComponentConfig() {\n        this.transclude = false;\n        this.template = template;\n        this.controller = PendenzenListViewController;\n        this.controllerAs = 'vm';\n    }\n    return PendenzenListViewComponentConfig;\n}());\nexports.PendenzenListViewComponentConfig = PendenzenListViewComponentConfig;\nvar PendenzenListViewController = /** @class */ (function () {\n    function PendenzenListViewController(gesuchModelManager, $state, $log, searchRS) {\n        var _this = this;\n        this.gesuchModelManager = gesuchModelManager;\n        this.$state = $state;\n        this.$log = $log;\n        this.searchRS = searchRS;\n        this.totalResultCount = '0';\n        this.passFilterToServer = function (tableFilterState) {\n            _this.$log.debug('Triggering ServerFiltering with Filter Object', tableFilterState);\n            return _this.searchRS.getPendenzenList(tableFilterState).then(function (response) {\n                _this.totalResultCount = response.totalResultSize ? response.totalResultSize.toString() : '0';\n                return response;\n            });\n        };\n    }\n    PendenzenListViewController.prototype.editpendenzJA = function (pendenz, event) {\n        if (pendenz) {\n            var isCtrlKeyPressed = (event && event.ctrlKey);\n            this.openPendenz(pendenz, isCtrlKeyPressed);\n        }\n    };\n    PendenzenListViewController.prototype.openPendenz = function (pendenz, isCtrlKeyPressed) {\n        this.gesuchModelManager.clearGesuch();\n        var navObj = {\n            gesuchId: pendenz.antragId\n        };\n        if (isCtrlKeyPressed) {\n            var url = this.$state.href('gesuch.familiensituation', navObj);\n            window.open(url, '_blank');\n        }\n        else {\n            this.$state.go('gesuch.familiensituation', navObj);\n        }\n    };\n    PendenzenListViewController.$inject = ['GesuchModelManager', '$state', '$log', 'SearchRS'];\n    return PendenzenListViewController;\n}());\nexports.PendenzenListViewController = PendenzenListViewController;\n",{"version":3,"file":"/home/imanol/projects/ebegu/ebegu-web/src/pendenzen/component/pendenzenListView/pendenzenListView.ts","sourceRoot":"","sources":["/home/imanol/projects/ebegu/ebegu-web/src/pendenzen/component/pendenzenListView/pendenzenListView.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;GAaG;;AAWH,IAAI,QAAQ,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACnD,OAAO,CAAC,0BAA0B,CAAC,CAAC;AAEpC;IAAA;QACI,eAAU,GAAG,KAAK,CAAC;QACnB,aAAQ,GAAG,QAAQ,CAAC;QACpB,eAAU,GAAG,2BAA2B,CAAC;QACzC,iBAAY,GAAG,IAAI,CAAC;IACxB,CAAC;IAAD,uCAAC;AAAD,CAAC,AALD,IAKC;AALY,4EAAgC;AAO7C;IAMI,qCAAoB,kBAAsC,EAAU,MAAqB,EAAU,IAAiB,EAChG,QAAkB;QADtC,iBAEC;QAFmB,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,WAAM,GAAN,MAAM,CAAe;QAAU,SAAI,GAAJ,IAAI,CAAa;QAChG,aAAQ,GAAR,QAAQ,CAAU;QALtC,qBAAgB,GAAW,GAAG,CAAC;QAQxB,uBAAkB,GAAG,UAAC,gBAAqB;YAC9C,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,+CAA+C,EAAE,gBAAgB,CAAC,CAAC;YACnF,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAC,QAAiC;gBAC3F,KAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAC7F,MAAM,CAAC,QAAQ,CAAC;YACpB,CAAC,CAAC,CAAC;QAEP,CAAC,CAAA;IATD,CAAC;IAWM,mDAAa,GAApB,UAAqB,OAAoB,EAAE,KAAU;QACjD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,IAAI,gBAAgB,GAAY,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;YACzD,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;QAChD,CAAC;IACL,CAAC;IAEO,iDAAW,GAAnB,UAAoB,OAAoB,EAAE,gBAAyB;QAC/D,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,CAAC;QACtC,IAAI,MAAM,GAAQ;YACd,QAAQ,EAAE,OAAO,CAAC,QAAQ;SAC7B,CAAC;QACF,EAAE,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACnB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;YAC/D,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;QAC/B,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,0BAA0B,EAAE,MAAM,CAAC,CAAC;QACvD,CAAC;IACL,CAAC;IAjCM,mCAAO,GAAa,CAAC,oBAAoB,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;IAkCpF,kCAAC;CAAA,AAtCD,IAsCC;AAtCY,kEAA2B","sourcesContent":["/*\n * Ki-Tax: System for the management of external childcare subsidies\n * Copyright (C) 2017 City of Bern Switzerland\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {IComponentOptions} from 'angular';\nimport TSAntragDTO from '../../../models/TSAntragDTO';\nimport IPromise = angular.IPromise;\nimport TSAntragSearchresultDTO from '../../../models/TSAntragSearchresultDTO';\nimport ILogService = angular.ILogService;\nimport GesuchModelManager from '../../../gesuch/service/gesuchModelManager';\nimport {IStateService} from 'angular-ui-router';\nimport SearchRS from '../../../gesuch/service/searchRS.rest';\n\nlet template = require('./pendenzenListView.html');\nrequire('./pendenzenListView.less');\n\nexport class PendenzenListViewComponentConfig implements IComponentOptions {\n    transclude = false;\n    template = template;\n    controller = PendenzenListViewController;\n    controllerAs = 'vm';\n}\n\nexport class PendenzenListViewController {\n\n    totalResultCount: string = '0';\n\n    static $inject: string[] = ['GesuchModelManager', '$state', '$log', 'SearchRS'];\n\n    constructor(private gesuchModelManager: GesuchModelManager, private $state: IStateService, private $log: ILogService,\n                private searchRS: SearchRS) {\n    }\n\n    public passFilterToServer = (tableFilterState: any): IPromise<TSAntragSearchresultDTO> => {\n        this.$log.debug('Triggering ServerFiltering with Filter Object', tableFilterState);\n        return this.searchRS.getPendenzenList(tableFilterState).then((response: TSAntragSearchresultDTO) => {\n            this.totalResultCount = response.totalResultSize ? response.totalResultSize.toString() : '0';\n            return response;\n        });\n\n    }\n\n    public editpendenzJA(pendenz: TSAntragDTO, event: any): void {\n        if (pendenz) {\n            let isCtrlKeyPressed: boolean = (event && event.ctrlKey);\n            this.openPendenz(pendenz, isCtrlKeyPressed);\n        }\n    }\n\n    private openPendenz(pendenz: TSAntragDTO, isCtrlKeyPressed: boolean) {\n        this.gesuchModelManager.clearGesuch();\n        let navObj: any = {\n            gesuchId: pendenz.antragId\n        };\n        if (isCtrlKeyPressed) {\n            let url = this.$state.href('gesuch.familiensituation', navObj);\n            window.open(url, '_blank');\n        } else {\n            this.$state.go('gesuch.familiensituation', navObj);\n        }\n    }\n}\n"]}]}