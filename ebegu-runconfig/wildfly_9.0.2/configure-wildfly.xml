<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ Copyright (c) 2015 DV Bern AG, Switzerland
  ~
  ~ Das vorliegende Dokument, einschliesslich aller seiner Teile, ist urheberrechtlich
  ~ gesch체tzt. Jede Verwertung ist ohne Zustimmung der DV Bern AG unzul채ssig. Dies gilt
  ~ insbesondere fuer Vervielf채ltigungen, die Einspeicherung und Verarbeitung in
  ~ elektronischer Form. Wird das Dokument einem Kunden im Rahmen der Projektarbeit zur
  ~ Ansicht 체bergeben ist jede weitere Verteilung durch den Kunden an Dritte untersagt
  -->

<project name="kurstool-config-wildfly-9" default="config-local">

	<property file="build.properties"/>

	<target name="config-local">
		<echo message="Configuring PostgreSQL Driver as JBoss module..."/>
		<copy todir="${jboss.dir}/modules/org/postgres/main/" file="modules/org/postgres/main/module.xml"/>
		<copy todir="${jboss.dir}/modules/org/postgres/main/"
			  file="modules/org/postgres/main/postgresql-9.4-1205.jdbc4.jar"/>
		<echo message="Configuring JBoss for LOCAL use..."/>
		<copy tofile="${jboss.dir}/standalone/configuration/standalone.xml"
			  file="standalone/configuration/standalone-LOCAL.xml" overwrite="true"/>
		<copy tofile="${jboss.dir}/bin/standalone.conf"
			  file="bin/standalone-LOCAL.conf" overwrite="true"/>
		<copy tofile="${jboss.dir}/bin/standalone.sh"
			  file="bin/standalone-LOCAL.sh" overwrite="true"/>
	</target>

	<target name="config-prod">
		<echo message="Configuring PostgreSQL Driver as JBoss module..."/>
		<copy todir="${jboss.dir}/modules/org/postgres/main/" file="modules/org/postgres/main/module.xml"/>
		<copy todir="${jboss.dir}/modules/org/postgres/main/"
			  file="modules/org/postgres/main/postgresql-9.4-1205.jdbc4.jar"/>
		<echo message="Configuring JBoss for PRODUCTION use..."/>
		<copy tofile="${jboss.dir}/standalone/configuration/standalone.xml"
			  file="standalone/configuration/standalone-PROD.xml" overwrite="true"/>
		<copy tofile="${jboss.dir}/bin/standalone.conf"
			  file="bin/standalone-PROD.conf" overwrite="true"/>
		<copy tofile="${jboss.dir}/bin/standalone.sh"
			  file="bin/standalone-PROD.sh" overwrite="true"/>
	</target>

</project>
